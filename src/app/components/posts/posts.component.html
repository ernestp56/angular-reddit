<app-thread *ngIf="showThread" (showThread)="closeThread($event)" [permalink]='permalink'></app-thread>
<div class="subreddit-navbar">
    <div class="subreddit-container">
        <div *ngIf="posts[0]" class="subreddit-title">{{ posts[0].data.subreddit | titlecase }}</div>
        <div *ngIf="posts[0]" class="subreddit-subtext">r/{{ posts[0].data.subreddit }} </div>
    </div>
</div>
<div class="posts-wrapper">
    <!-- <button (click)="onChangeLimit()">Test</button> -->
    <div class="posts-forms">
        <mat-form-field appearance="fill">
            <mat-label>Posts displayed</mat-label>
            <mat-select [(value)]="limit">
              <mat-option (click)="onChangeLimit()" value="5">5</mat-option>
              <mat-option (click)="onChangeLimit()" value="10">10</mat-option>
              <mat-option (click)="onChangeLimit()" value="25">25</mat-option>
            </mat-select>
        </mat-form-field>
        <div></div>
        <mat-form-field appearance="fill">
            <mat-label>Search subreddit to view</mat-label>
            <input matInput placeholder="Ex. Technology" #subreddit placeholder="Photography" (keydown.enter)="passSubreddit(subreddit.value)">
        </mat-form-field>
    </div>
    <app-post-item *ngFor="let post of posts" [post]='post' (permalink)="fetchThread($event)"></app-post-item>
    <div class="page-buttons">
        <span (click)="fetchBefore()" class="material-icons">arrow_back</span>
        <!-- <button *ngIf="before != 'first'"  class="prev">Previous</button> -->
        <div></div>
        <span (click)="fetchAfter()" class="material-icons forward">arrow_forward</span>
        <!-- <button (click)="fetchAfter()" class="next">Next</button> -->
    </div>
</div>
